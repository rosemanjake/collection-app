import React, { useContext } from 'react';
import Header from '../components/header';
import Story from '../components/story';
import StoryTitle from '../components/story-title';
import TextContainer from '../components/text-container';
import BasicImage from '../components/basic-image';
import Footer from '../components/footer';
import ProgressIndicator from '../components/progress-indicator';
import ShareButtons from '../components/ShareButtons';
import NextContainer from '../components/next-container';
import { DarkModeContext } from '../context/DarkModeProvider';

export default function Salamander(props){

  const text = "The moment Alex woke, he began the daily inspection. Still in bed, he pressed his fingers into his neck, groin, and armpits. He searched for even the smallest grain of hard tissue that might signal the arrival of a malignant tumour. When he had concluded the inspection, he immediately started over. His efforts left him marked with faint welts and bruises.\n\nWhen he finally rose, he urinated into a jar and dipped a diabetes test strip into it. He watched the liquid spread up the paper and continued to poke and prod at himself. The result returned negative. It was the twelfth negative test in ten days.\n\nHis new housemate Harry was in the kitchen. The stove\'s blue flames flickered beneath a pan full of bacon. Although it was only early in the morning, Harry\'s eyes were bright red and he reeked of smoke. He offered Alex some bacon.\n\n\"Not for me, it\'s got toxins in it,\" Alex said. \"But can I have a little bit raw to give to Sally? It\'s safe for her.\"\n\nHarry shrugged and cut away a few small pieces of raw bacon. Alex took them in a tissue so as to avoid exposing himself too directly to any parasites that might have been living in the meat. Sally was Alex\'s pet Salamander. The amphibian had its home by Alex\'s bed in a glass habitat he had built himself. He dropped in the bacon and she lazily waddled over to it and swallowed it all down.\n\nIt had not been Alex\'s idea to get a salamander. She belonged to his brother who had left her behind when he moved to Canada. It was only after much convincing that Alex had agreed to take care of her.\n\n~~~\n\nAlex was working the morning shift. The butcher\'s shop was two kilometres away and to get there he walked a route that avoided the carcinogenic emissions of the main road. The night had been short and warm. The low sun was already burning and it threatened to give him a bout of heatstroke.\n\nThe butcher\'s name was Baz. He glanced only briefly at Alex as he walked in the back door. He went back to cleaning the bandsaw and said, \"You look flustered.\"\n\n\"Do I?\" said Alex.\n\n\"Yeah, you look like the sun\'s got to you a bit.\"\n\nAlex excused himself and went to the public toilets. Flustered? Baz had made Alex blush, and in the mirror it was not clear what was blush, what was fluster, and what was heatstroke. He began to pull and poke at his face to better understand what might be happening, but the door opened and another man entered. Alex hurriedly washed his hands and returned to the shop.\n\nBaz told him to prepare the chicken breasts. Alex did not enjoy handling raw meat, but it was better than the job he had previously worked in a toy store. There he had been subjected to virus-riddled children for hours on end. During the Christmas period he once even picked up school sores.\n\nThe breasts were straight out of the freezer and while at first Alex enjoyed the feeling of the cold flesh through his gloves, they were so cold that after a few minutes they had made his hands entirely numb. There was a good chance he might become the first person on the edge of heatstroke to come down with frostbite. To warm his stiff fingers, he took the opportunity to wash the knives Baz had used to carve some pork. He scrubbed the blade of a particularly long knife that required him to make long sweeping motions with the sponge. \n\nHis grip slipped. The blade\'s edge ran along his hand. He was still so cold that he did not feel the skin split. Blood welled up and the running water carried it away. Alex let out a squeal, and Baz turned around from where he was cutting lamb.\n\n\"You alright mate?\" Baz asked.\n\nAlex whimpered in response and Baz came over with the scowl of an unimpressed parent. He examined Alex\'s hand closely and shrugged. \"Ah, no worries, you\'ll be right. Look, it\'s only little.\"\n\nAlex held his hand away from him and refused to look at the gore. \"I don\'t know. I think it\'s pretty serious. Maybe I should call an ambulance?\"\n\nBaz was laughing. \"An ambulance? It\'s basically a paper cut. Really, just take a look at it. It\'s not that bad.\"\n\nAlex shook his head and said, \"But what if I\'ve got heatstroke and that raises my blood pressure so that the blood comes out more quickly and then because of the diabetes the loss of blood screws up my blood sugar even more and then bacteria from the knife gives me some sort of infection and in my weakened state the tumour that\'s sure to be growing somewhere inside of me does even more damage and grows and metastasizes and then I get woozy and fall and knock my head and die. What then? Who\'ll feed Sally if I\'m gone? I promised to take care of her.\"\n\nBaz was no longer laughing. He sat Alex down, dressed his hand with a bandage, and sent him home. He told him that he should \"calm down and take it easy.\" He called in his nephew to pick up the shift.\n\nThe sun had risen well into the sky and on his walk home it battered Alex all the more. The straight roads shimmered with mirages that duplicated the trees and cars. When he returned home, Alex found black smoke streaming out of the kitchen windows.\n\nHe stopped in the street and watched the smoke. The particles were certainly carcinogenic and they would be carried along by all manner of noxious gases: carbon monoxide, sulphur dioxide, various nitrogen oxides. Alex looked over the neighbouring houses. Nobody had noticed. If anyone was home, they were still inside, as was Sally.\n\nAlex approached the door. A thin stream of smoke seeped out between it and the top of the door frame. He took a breath, pulled his shirt over his nose, and opened it. A heavy smog clung to the ceiling. The living room was cast in a warm light and there came a crackling sound. Alex pushed down the hall. He stepped coughing into the living space and a flash of heat greeted him. Flames leapt on the kitchen counter and licked at the overhead cupboards. On the stove a bright oil fire roared in the frying pan. \n\nHarry lay perfectly still on the couch, his eyes closed. On the coffee table was a baggie of white powder and a bong filled with black water. Alex kicked aside the table and hooked his arms under Harry\'s. He spluttered and groaned but otherwise did not react as Alex dragged him down the hall and out the front door.\n\nA neighbour with a small terrier stood on the footpath and thumbed her hat. She watched with placid curiosity as Alex lay Harry on the grass. The dog barked and whined at the smell of smoke.\n\n\"What\'s going on here then?\" she said. \"Is your mate alright?\"\n\n\"Can\'t you see there\'s a bloody fire!\" Alex said. He hacked and wheezed and with some effort he cried out, \"Call the fire brigade! And don\'t worry about him. He\'s fine.\"\n\nAlex stormed back inside. The kitchen cupboards had caught light and the flames now touched the ceiling. The surface of the fridge had begun to blacken and peel. A large fire extinguisher was mounted by a pantry whose doors were also alight. Alex held his breath, fought the searing urge to cough, and stepped into the heat. Even through the heavy smoke he could smell his singing hair. The hot metal of the extinguisher\'s handle stung him as he gripped it tight and strained to hold it aloft.\n\n~~~\n\nBlack ash and white CO2 powder clung to Alex as he emerged from the house. The smoke now only trickled from the charred kitchen windows. In his arms was Sally\'s habitat. Confused by the sudden jostling, she hurried back and forth over the soil and sticks. \n\nThe bandage on Alex\'s hand had come loose and was stained with soot. He set down Sally\'s habitat and pulled off the bandage. He poked at the cut beneath and found that while it was a little sensitive, it was only small. The other hand bore a few burns. He flexed his fingers and the blisters smarted, but they too were only little.\n\nThe neighbour was still standing on the footpath. Her terrier ran in circles and barked at the approaching sirens.\n\n\"Are you OK? Should we call an ambulance?\" she asked. \n\nThough the smoke had scalded his throat, Alex breathed the clear air easily enough. \"I don\'t know. I think I might be good.\"\n\nHarry stirred on the grass. He feebly raised his head and said, \"Do I smell smoke? Hang on. Is that the police?\""
  const { isDarkMode, setIsDarkMode } = useContext(DarkModeContext);
  
  return(
    <>
    <Header darkMode={isDarkMode}/>
    <ProgressIndicator/>
    <Story darkMode={isDarkMode}>
      <StoryTitle title={"Salamander"} darkMode={isDarkMode}/>
      <TextContainer text={text} containerIndex={1}/>
      <NextContainer darkMode={isDarkMode} currentStoryIndex={4}/>
    </Story>
    <Footer/>
    </>
  )
}